<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PokéGym – Lý thuyết luyện âm</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: radial-gradient(circle at top left, #e3f2fd, #b2ebf2);

      margin: 0;
      padding: 20px;
    }

    h2 {
      text-align: center;
      color: #333;
      margin-top: 40px;
      font-size: 22px;
      text-shadow: 1px 1px #f5cf58;
    }

    .section {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 16px;
      margin-top: 20px;
    }

    .sound-btn {
      flex: 0 0 calc(50% - 20px);
      max-width: 200px;
      height: 100px;
      background: linear-gradient(145deg, #ffec85, #fff6c0);
      border-radius: 14px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      color: #222;
      padding: 10px;
      cursor: pointer;
      line-height: 1.4;
      transition: all 0.25s ease;
      border: 2px solid #f4ca4d;
    }

    .sound-btn:hover {
      background: #fff29c;
      transform: scale(1.05);
      box-shadow: 0 0 10px #ffe95a;
    }

    .example {
      font-weight: normal;
      font-style: italic;
      display: block;
      margin-top: 6px;
      color: #555;
    }

    @media (max-width: 600px) {
      .sound-btn {
        flex: 0 0 100%;
        font-size: 20px;
        height: 90px;
      }
    }
  </style>
</head>
<body>

<h1 style="text-align:center; font-size:26px; color:#d43f00; text-shadow:1px 1px #ffd95a;">⚡ PokéGym Luyện Âm ⚡</h1>
<div id="phonicsScoreDisplay" style="text-align:center; margin-top:30px; font-size:18px; color:#333;">
    📈 Điểm luyện âm: <span id="scoreValue">0</span>
</div>

<h2>Nguyên âm ngắn</h2>
<div class="section">
  <div class="sound-btn">a - /æ/<br><span class="example">(at)</span></div>
  <div class="sound-btn">e - /ɛ/<br><span class="example">(bed)</span></div>
  <div class="sound-btn">i - /ɪ/<br><span class="example">(sit)</span></div>
  <div class="sound-btn">o - /ɒ/<br><span class="example">(hot)</span></div>
  <div class="sound-btn">u - /ʌ/<br><span class="example">(cup)</span></div>
</div>

<h2>Nguyên âm + r</h2>
<div class="section">
  <div class="sound-btn">ar - /ɑː/<br><span class="example">(car)</span></div>
  <div class="sound-btn">or - /ɔː/<br><span class="example">(horse)</span></div>
  <div class="sound-btn">ir - /ɜː/<br><span class="example">(girl)</span></div>
  <div class="sound-btn">ur - /ɜː/<br><span class="example">(nurse)</span></div>
  <div class="sound-btn">er - /ə/<br><span class="example">(her)</span></div>
</div>

<h2>Nguyên âm đôi dài</h2>
<div class="section">
  <div class="sound-btn">ai - /eɪ/<br><span class="example">(rain)</span></div>
  <div class="sound-btn">a-e - /eɪ/<br><span class="example">(cake)</span></div>
  <div class="sound-btn">ay - /eɪ/<br><span class="example">(play)</span></div>
  <div class="sound-btn">ee - /iː/<br><span class="example">(green)</span></div>
  <div class="sound-btn">ea - /iː/<br><span class="example">(leaf)</span></div>
  <div class="sound-btn">e-e - /iː/<br><span class="example">(these)</span></div>
  <div class="sound-btn">ey - /iː/<br><span class="example">(key)</span></div>
  <div class="sound-btn">i-e - /aɪ/<br><span class="example">(bike)</span></div>
  <div class="sound-btn">ie - /aɪ/<br><span class="example">(pie)</span></div>
  <div class="sound-btn">igh - /aɪ/<br><span class="example">(light)</span></div>
  <div class="sound-btn">y - /aɪ/<br><span class="example">(fly)</span></div>
  <div class="sound-btn">o-e - /oʊ/<br><span class="example">(home)</span></div>
  <div class="sound-btn">oa - /oʊ/<br><span class="example">(boat)</span></div>
  <div class="sound-btn">ow - /oʊ/<br><span class="example">(snow)</span></div>
  <div class="sound-btn">u-e - /juː/<br><span class="example">(cube)</span></div>

  <div class="sound-btn">ew - /juː/<br><span class="example">(new)</span></div>
  <div class="sound-btn">ue - /uː/<br><span class="example">(blue)</span></div>
  <div class="sound-btn">ui - /uː/<br><span class="example">(fruit)</span></div>
  <div class="sound-btn">oo - /uː/<br><span class="example">(moon)</span></div>
</div>

<h2>Nguyên âm mở rộng</h2>
<div class="section">
  <div class="sound-btn">oi - /ɔɪ/<br><span class="example">(coin)</span></div>
  <div class="sound-btn">oy - /ɔɪ/<br><span class="example">(boy)</span></div>
  <div class="sound-btn">ou - /aʊ/<br><span class="example">(house)</span></div>
  <div class="sound-btn">air - /eə/<br><span class="example">(hair)</span></div>
  <div class="sound-btn">are - /eə/<br><span class="example">(care)</span></div>
  <div class="sound-btn">ear - /ɪə/<br><span class="example">(dear)</span></div>
  <div class="sound-btn">eer - /ɪə/<br><span class="example">(cheer)</span></div>
  <div class="sound-btn">ere - /ɪə/<br><span class="example">(here)</span></div>
  <div class="sound-btn">ure - /ʊə/<br><span class="example">(pure)</span></div>
  <div class="sound-btn">our - /ʊə/<br><span class="example">(tour)</span></div>
  <div class="sound-btn">aw - /ɔː/<br><span class="example">(saw)</span></div>
  <div class="sound-btn">au - /ɔː/<br><span class="example">(author)</span></div>
  <div class="sound-btn">al - /ɔː/<br><span class="example">(walk)</span></div>
</div>
  <h2>Phụ âm vô thanh</h2>
  <div class="section">
    <div class="sound-btn">p - /p/<br><span class="example">(pen)</span></div>
    <div class="sound-btn">t - /t/<br><span class="example">(top)</span></div>
    <div class="sound-btn">k - /k/<br><span class="example">(kick)</span></div>
    <div class="sound-btn">c - /k/<br><span class="example">(cat)</span></div>
    <div class="sound-btn">f - /f/<br><span class="example">(fish)</span></div>
    <div class="sound-btn">th - /θ/<br><span class="example">(thin)</span></div>
    <div class="sound-btn">s - /s/<br><span class="example">(sun)</span></div>
    <div class="sound-btn">h - /h/<br><span class="example">(hat)</span></div>
    <div class="sound-btn">sh - /ʃ/<br><span class="example">(shop)</span></div>
    <div class="sound-btn">ch - /ʧ/<br><span class="example">(chin)</span></div>

  </div>

  <h2>Phụ âm hữu thanh</h2>
  <div class="section">
    <div class="sound-btn">b - /b/<br><span class="example">(bat)</span></div>
    <div class="sound-btn">d - /d/<br><span class="example">(dog)</span></div>
    <div class="sound-btn">g - /g/<br><span class="example">(go)</span></div>
    <div class="sound-btn">v - /v/<br><span class="example">(van)</span></div>
    <div class="sound-btn">TH - /ð/<br><span class="example">(this)</span></div>
    <div class="sound-btn">z - /z/<br><span class="example">(zoo)</span></div>
    <div class="sound-btn">zh - /ʒ/<br><span class="example">(vision)</span></div>
    <div class="sound-btn">j - /ʤ/<br><span class="example">(jam)</span></div>
    <div class="sound-btn">ge - /ʤ/<br><span class="example">(orange)</span></div>
    <div class="sound-btn">m - /m/<br><span class="example">(man)</span></div>
    <div class="sound-btn">n - /n/<br><span class="example">(net)</span></div>
    <div class="sound-btn">ng - /ŋ/<br><span class="example">(ring)</span></div>
    <div class="sound-btn">l - /l/<br><span class="example">(leg)</span></div>
    <div class="sound-btn">r - /r/<br><span class="example">(red)</span></div>
    <div class="sound-btn">w - /w/<br><span class="example">(win)</span></div>
    <div class="sound-btn">y - /j/<br><span class="example">(yes)</span></div>
  </div>

  <h2>Phụ âm ghép đặc biệt</h2>
  <div class="section">
    <div class="sound-btn">ph - /f/<br><span class="example">(phone)</span></div>
    <div class="sound-btn">wh - /w/<br><span class="example">(wheel)</span></div>
    <div class="sound-btn">ck - /k/<br><span class="example">(duck)</span></div>
    <div class="sound-btn">gn - /n/<br><span class="example">(gnome)</span></div>
    <div class="sound-btn">kn - /n/<br><span class="example">(knee)</span></div>
    <div class="sound-btn">wr - /r/<br><span class="example">(write)</span></div>
    <div class="sound-btn">mb - /m/<br><span class="example">(lamb)</span></div>
    <div class="sound-btn">ce - /s/<br><span class="example">(nice)</span></div>
  </div>

  <h2>Đuôi từ đặc biệt</h2>
  <div class="section">
    <div class="sound-btn">-tion - /ʃn/<br><span class="example">(station)</span></div>
    <div class="sound-btn">-sion - /ʒn/<br><span class="example">(vision)</span></div>
    <div class="sound-btn">-cian - /ʃn/<br><span class="example">(musician)</span></div>
    <div class="sound-btn">-ture - /ʧə/<br><span class="example">(picture)</span></div>
    <div class="sound-btn">-sure - /ʒə/<br><span class="example">(measure)</span></div>
    <div class="sound-btn">-cial - /ʃl/<br><span class="example">(social)</span></div>
    <div class="sound-btn">-tial - /ʃl/<br><span class="example">(initial)</span></div>
    <div class="sound-btn">-ous - /əs/<br><span class="example">(famous)</span></div>
    <div class="sound-btn">-age - /ɪʤ/<br><span class="example">(village)</span></div>
  </div>

  <script>
    function playIPAFromText(text) {
      const match = text.match(/\/([^/]+)\//);
      const ipa = match?.[1];

      if (ipa) {
        const url = `https://raw.githubusercontent.com/ninjavanxuantruong/mp3vietnam2/main/${encodeURIComponent(ipa)}.mp3`;
        const audio = new Audio(url);
        audio.play();
      } else {
        console.warn("Không tìm thấy IPA trong nút:", text);
      }
    }

    // ✅ Thêm hàm cập nhật điểm hiển thị
    function updatePhonicsScoreDisplay() {
      const scoreDisplay = document.getElementById("scoreValue");
      const rounded = localStorage.getItem("phonicsTheoryRounded") || "0";
      scoreDisplay.textContent = rounded;
    }

    document.addEventListener("DOMContentLoaded", () => {
      updatePhonicsScoreDisplay(); // ✅ Gọi khi trang tải

      document.querySelectorAll(".sound-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          const text = btn.textContent.trim();
          playIPAFromText(text);

          const currentRaw = parseFloat(localStorage.getItem("phonicsTheoryScore") || "0");
          const updatedRaw = currentRaw + 0.25;
          const roundedScore = Math.ceil(updatedRaw);

          localStorage.setItem("phonicsTheoryScore", updatedRaw.toFixed(1));
          localStorage.setItem("phonicsTheoryRounded", roundedScore);

          updatePhonicsScoreDisplay(); // ✅ Gọi sau khi cộng điểm

          console.log(`📚 Điểm lý thuyết Phonics: ${updatedRaw.toFixed(1)} → Làm tròn: ${roundedScore}`);
        });
      });
    });
  </script>



  </body>
  </html>
